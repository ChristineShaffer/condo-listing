<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <link rel="stylesheet" href="../assets/css/index.css">

    <title>Refer to Earn $1,000</title>

    <meta name="description" content="Refer someone to purchase this condo and get $1,000 on closing.">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-12 my-3">
                <h1>$1,000 Referral Incentive</h1>
            </div>
            <div class="col-12">
                <p>
                    Submit a referral using the form below get $1,000 if your referral ends up purchasing this unit!
                </p>
                <p>
                    All of your information and the information of the person your referring will be kept private
                    and confidential. We will not contact your referral, we only use this information for reference
                    purposes to award the $1,000.
                </p>
            </div>
            <div class="col-12">
                <form class="row needs-validation" novalidate>
                    <div class="form-group col-12">
                        <label for="referrer-first-name">Your First Name</label>
                        <input type="text" class="form-control" id="referrer-first-name"
                               placeholder="Enter your first name" required>
                        <div class="invalid-feedback">
                            Please enter your first name.
                        </div>
                    </div>

                    <div class="form-group col-12">
                        <label for="referrer-last-name">Your Last Name</label>
                        <input type="text" class="form-control" id="referrer-last-name"
                               placeholder="Enter your last name" required>
                        <div class="invalid-feedback">
                            Please enter your last name.
                        </div>
                    </div>

                    <!--
                    <div class="form-group col-12">
                        <label for="referrer-birthday">Your Birthday (MM/DD/YYYY)</label>
                        <input type="text" class="form-control" id="referrer-birthday" maxlength="10"
                               placeholder="Enter your birthday" aria-describedby="birthday-help" required>
                        <small id="email-help" class="form-text text-muted">
                            We do not share this information, it is for verification purposes only.
                        </small>
                        <div class="invalid-feedback">
                            Please enter your last name.
                        </div>
                    </div>
                    -->

                    <div class="form-group col-12">
                        <label for="referrer-email">Your Email Address</label>
                        <input type="email" class="form-control" id="referrer-email" placeholder="Enter your email"
                               required>
                        <div class="invalid-feedback">
                            Please enter your email address.
                        </div>
                    </div>

                    <div class="form-group col-12">
                        <label for="referrer-phone">Your Phone Number</label>
                        <input type="number" class="form-control" id="referrer-phone"
                               placeholder="Enter your phone number" required>
                        <div class="invalid-feedback">
                            Please enter your phone number.
                        </div>
                    </div>

                    <div class="form-group col-12">
                        <label for="referee-first-name">Referral's First Name</label>
                        <input type="text" class="form-control" id="referee-first-name"
                               placeholder="Enter the first name of the person you're referring" required>
                        <div class="invalid-feedback">
                            Please enter your referral's first name.
                        </div>
                    </div>

                    <div class="form-group col-12">
                        <label for="referee-last-name">Referral's Last Name</label>
                        <input type="text" class="form-control" id="referee-last-name"
                               placeholder="Enter the last name of the person you're referring" required>
                        <div class="invalid-feedback">
                            Please enter your referral's last name.
                        </div>
                    </div>

                    <div class="form-group col-12">
                        <label for="referee-phone-or-email">Referral's Phone Number or Email</label>
                        <input type="text" class="form-control" id="referee-phone-or-email"
                               placeholder="Enter the phone number or email of the person you're referring" required>
                        <div class="invalid-feedback">
                            Please enter your referral's phone number or email.
                        </div>
                    </div>

                    <div class="form-group col-12">
                        <h2>Terms & Conditions</h2>
                        <p>
                            Referrer cannot be purchaser's Realtor. If multiple people refer the same purchaser(s), the
                            person who submitted a referral through this form first, as determined by the submission
                            timestamp, will be awarded the $1,000. Referrals must be submitted before purchase contract is
                            signed by buyer(s). Buyer(s) and referrer cannot be the same individual(s), nor their spouse.
                            Only $1,000 total is available to be awarded and will be paid out on closing to the referrer.
                        </p>
                    </div>

                    <div class="form-group col-12">
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="accept-terms" required>
                            <label class="form-check-label" for="accept-terms">
                                I have read and accept the Terms & Conditions.
                            </label>
                            <div class="invalid-feedback">
                                Please read and accept the Terms and Conditions.
                            </div>
                        </div>
                    </div>

                    <div class="col-12 mt-3 mb-4">
                        <button type="submit" class="btn btn-primary">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Bootstrap -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" crossorigin="anonymous"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" crossorigin="anonymous"
            integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"></script>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase-firestore.js"></script>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyC1rYz9B8JlKb9ZnG2ReoXTSBmJ_zNITls",
            authDomain: "condo-listing.firebaseapp.com",
            databaseURL: "https://condo-listing.firebaseio.com",
            projectId: "condo-listing",
            storageBucket: "condo-listing.appspot.com",
            messagingSenderId: "264210985074",
            appId: "1:264210985074:web:37f59504f18b3f512952eb",
            measurementId: "G-TTJCH9HNV5"
        };
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
    </script>

    <!-- Form validation -->
    <script>
        (function() {
            "use strict";
            window.addEventListener("load", function() {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName("needs-validation");

                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function(form) {
                    form.addEventListener("submit", function(event) {
                        event.preventDefault();

                        if (form.checkValidity() === false) {
                            event.stopPropagation();
                        } else {
                            firebase.firestore().collection("referrals").add({
                                referrerFirstName: document.getElementById("referrer-first-name").value,
                                referrerLastName: document.getElementById("referrer-last-name").value,
                                referrerPhone: document.getElementById("referrer-phone").value,
                                referrerEmail: document.getElementById("referrer-email").value,
                                firstName: document.getElementById("referee-first-name").value,
                                lastName: document.getElementById("referee-last-name").value,
                                phoneOrEmail: document.getElementById("referee-phone-or-email").value,
                                created: firebase.firestore.Timestamp.now()
                            }).then(function () {
                                alert("Form successfully submitted! Your referral has been recorded.");
                            }).catch(function () {
                                alert("Sorry, something went wrong.");
                            });
                        }

                        form.classList.add("was-validated");
                    }, false);
                });
            }, false);
        })();
    </script>
</body>
</html>